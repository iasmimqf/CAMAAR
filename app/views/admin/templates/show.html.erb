<div class="container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto">
    <div class="mb-6">
      <div class="flex justify-between items-center">
        <h1 class="text-3xl font-bold text-gray-900"><%= @template.titulo %></h1>
        <div class="flex space-x-2">
          <%= link_to 'Editar', edit_admin_template_path(@template), class: 'bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded' %>
          <%= link_to 'Voltar', admin_templates_path, class: 'bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded' %>
        </div>
      </div>
      <p class="mt-2 text-sm text-gray-600">
        Criado por <%= @template.criador.email %> | 
        <%= pluralize(@template.questoes.count, 'questão', 'questões') %>
      </p>
    </div>

    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
      <div class="px-4 py-5 sm:p-6">
        <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Questões do Template</h3>
        
        <% if @template.questoes.any? %>
          <div class="space-y-4">
            <% @template.questoes.each_with_index do |questao, index| %>
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex justify-between items-start">
                  <div class="flex-1">
                    <h4 class="text-sm font-medium text-gray-900">
                      Questão <%= index + 1 %>
                      <% if questao.obrigatoria? %>
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                          Obrigatória
                        </span>
                      <% end %>
                    </h4>
                    <p class="mt-1 text-sm text-gray-600"><%= questao.enunciado %></p>
                  </div>
                  <div class="ml-4">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                      <%= questao.tipo %>
                    </span>
                  </div>
                </div>
                
                <% if questao.tipo == 'Escala' && questao.opcoes.present? %>
                  <div class="mt-3">
                    <p class="text-xs text-gray-500 mb-2">Opções de resposta:</p>
                    <div class="flex space-x-2">
                      <% questao.opcoes_array.each do |opcao| %>
                        <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800">
                          <%= opcao %>
                        </span>
                      <% end %>
                    </div>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
        <% else %>
          <p class="text-gray-500 text-center py-4">Nenhuma questão foi adicionada a este template.</p>
        <% end %>
      </div>
    </div>
  </div>
</div>
